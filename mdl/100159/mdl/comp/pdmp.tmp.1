'<PCODE "1XCOMS">

<PACKAGE "COMSUB"> 

<ENTRY SUBSTRUC-GEN> 

<USE "CODGEN" "CACS" "CHKDCL" "COMCOD" "COMPDEC" "STRGEN"> 

"ROUTINES TO GENERATE SUBSTRUCT FOR THE COMPILER. CURRENTLY ONLY
 HACKS UVECTOR AND VECTOR
 CASES 1) COPYING  (ALWAYS HACKED) (I.E 1 ARG)
       2) COPYING PORTIONS (2 OR 3 ARGS) (ALWAYS HACKED)
       3) COPYING INTO STRUCTURES HACKED IN 2 CASES
	  <SUBSTRUC .X .N1 .N2 <REST .X>>
	  <SUBSTRUC <REST .X> .N1 .N2 .X>" 

"NODE STRUCTURE IS FAIRLY MUNGED TO ALLOW FOR REASONABILITY.
 1==> STRUCTURE NODE
      THIS IS ACTUALLY RESTED
 2==> NUMBER NODE (IF IT EXISTS)
 3==> RESTED STRUCTURE NODE (IF IT EXISTS)
 DECISION AS TO FOURTH ARG WILL TRY TO BE MADE DURING PASS1 OR SYMANA" 

<DEFINE SUBSTRUC-GEN (NOD WHERE "AUX" (K <KIDS .NOD>) (STRNOD <1 .K>) (TPS <
STRUCTYP <RESULT-TYPE .STRNOD>>) L) 