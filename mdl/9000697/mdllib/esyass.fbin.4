'<PCODE "ESYASS">

<PACKAGE "ESYASS"> 

<USE "CODING"> 

<USE "JCL"> 

<ENTRY :SL MAKE-ESYASS EASY-ASSEMBLE> 

<SETG :SL  %<RSUBR!- '[ %<PCODE!- "ESYASS" 0> :SL #DECL ("VALUE" ATOM) 
ENDPACKAGE PACKAGE READJCL FILE-ASSEMBLE %<RGLOC MUDDLE T> ";O<MDL>MDL" 
".SYMBOLS" "P" ":SL DSK:SYS1; TS MUD" ":VP" T INCHAN OUTCHAN %<RGLOC 
JUNKQUEST T> "" FILEIN (ANY) FILEOUT QUICK-FORMAT MESSAGE-CHANNEL LINE-CHANNEL
 MAKE-SYM-TABLE GLUE ESYASS (ACTIVATION) (["File to assemble:  " FILEIN <> T 
ESYASS] ["Output file:  " FILEOUT <>] ["Quick format (default T):  " 
QUICK-FORMAT T] ["Assembly Message File (default to TTY):  " MESSAGE-CHANNEL 
"TTY:" T] ["Assembly Listing File (default NONE):  " LINE-CHANNEL <> T] [
"Make symbol table (default #FALSE ()):  " MAKE-SYM-TABLE #FALSE () T] [
"GLUEable output (default T):  " GLUE T T]) PARSE-STRING (["BINARY" QUICK-FORMAT
<>] ["NBIN" QUICK-FORMAT T] [" B " QUICK-FORMAT <>] [" N " QUICK-FORMAT T] [
" QUIET " MESSAGE-CHANNEL <>] [" Q " MESSAGE-CHANNEL <>] [" SYMBOL " 
MAKE-SYM-TABLE T] [" S " MAKE-SYM-TABLE T] [" L " LINE-CHANNEL .OUTCHAN] [
" LIST " LINE-CHANNEL .OUTCHAN] [" GLUE " GLUE T] [" G " GLUE T] [" NOGLUE " 
GLUE <>] [" NG " GLUE <>]) "MUDDLE Assembler." "JSYS" "" "MUDDLE;ASSEM SAVE" 
"<MDL-LIBRARY>ASSEM.SAVE"]>> 
<AND <ASSIGNED? GLUE> .GLUE <PUT ,:SL PGLUE ![717225983 -1 0!]>> 


<SETG QUESTIONER %<RSUBR-ENTRY '[:SL QUESTIONER #DECL ("VALUE" ATOM <LIST [REST 
VECTOR]>)] 58>> 

<SETG JUNKQUEST <ISTRING 100 !\ >> 

<SETG EASY-ASSEMBLE %<RSUBR-ENTRY '[:SL EASY-ASSEMBLE #DECL ("VALUE" ANY)] 225>> 

<SETG FLAG-SETTER %<RSUBR-ENTRY '[:SL FLAG-SETTER #DECL ("VALUE" ANY STRING <
LIST [REST VECTOR]>)] 342>> 

<SETG JCL-ASSEMBLE %<RSUBR-ENTRY '[:SL JCL-ASSEMBLE #DECL ("VALUE" FALSE STRING)
] 388>> 

<SETG EASY-ASSEMBLER %<RSUBR-ENTRY '[:SL EASY-ASSEMBLER #DECL ("VALUE" ANY)] 511
>> 

<SETG MAKE-ESYASS %<RSUBR-ENTRY '[:SL MAKE-ESYASS #DECL ("VALUE" ANY)] 547>> 

<ENDPACKAGE> 
