'<PCODE "2MPCK">

<BLOCK <ROOT>> 

PACKAGE 

RPACKAGE 

ENTRY 

EXTERNAL 

USE 

USE-TOTAL 

DROP 

NULL-OBLIST 

ENDPACKAGE 

FILSTR 

FILPRS 

L-DATUM 

USE-DATUM 

L-TRY-USER 

L-UNUSE 

USE-DEFER 

L-NOISY 

L-DIRECTORIES 

L-SECOND-NAMES 

L-PATH 

L-OBL 

<MOBLIST PACKAGE 29> 

<MOBLIST PKG!-PACKAGE 17> 

<SETG OBLIST (<GET INITIAL OBLIST> <ROOT>)> 

<BLOCK (<MOBLIST IPKG!-PKG!-PACKAGE 23> <GET PKG!-PACKAGE OBLIST> <ROOT>)> 

<SETG PKG!-PACKAGE .OBLIST> 

<SETG PKG-OB <GET PACKAGE OBLIST>> 

<SETG COL-OB <MOBLIST RPACKAGE 7>> 

<SETG L-TRY-USER <>> 

<SETG L-NOISY T> 

<SETG L-DIRECTORIES ("MDLLIB" "MDL")> 

<SETG L-SECOND-NAMES ("FBIN" "GBIN" "NBIN" "BINARY" "MUD")> 

<GDECL (COL-OB PKG-OB) OBLIST (L-TRY-USER L-NOISY) ANY (L-DIRECTORIES 
L-SECOND-NAMES) <LIST [REST STRING]>> 

<SETG FILSTR  %<RSUBR!- '[ %<PCODE!- "2MPCK" 0> FILSTR #DECL ("VALUE" STRING 
"OPTIONAL" STRING STRING STRING STRING) DROP "" "MUD" "DSK" ":<" "READ" OBLIST 
OUTCHAN %<RGLOC NULL T> %<RGLOC OUTCHAN T> (CHANNEL) %<RGLOC PKG-OB T> %<RGLOC 
L-NOISY T> "/" %<RGLOC L-DIRECTORIES T> %<RGLOC L-TRY-USER T> %<RGLOC 
L-SECOND-NAMES T> IOBLIST IN-COLLECTION %<RGLOC COL-OB T> T ENTRY 
NOT-IN-PACKAGE-OR-COLLECTION!-ERRORS ALREADY-USED-ELSEWHERE!-ERRORS USE PACKAGE 
NOT-FOUND!-ERRORS DROP NOT-PACKAGE-OR-COLLECTION!-ERRORS %<RGLOC NULL-OBLIST T> 
UNMATCHED-ENDPACKAGE-OR-ENDCOLLECTION!-ERRORS "PACKAGE REMOVED" %<RGLOC UDOB T> 
"DATUM REMOVED" #FALSE ("NOT PACKAGE OR DATUM") "DATUM NOT FOUND"]>> 
<AND <ASSIGNED? GLUE> .GLUE <PUT ,FILSTR PGLUE ![805306367 -1 -1073741824!]>> 


<SETG FILPRS %<RSUBR-ENTRY '[FILSTR FILPRS #DECL ("VALUE" <LIST [4 STRING] [REST
STRING]> STRING)] 76>> 

<SETG L-PATH %<RSUBR-ENTRY '[FILSTR L-PATH #DECL ("VALUE" ANY)] 105>> 

<SETG L-OBL %<RSUBR-ENTRY '[FILSTR L-OBL #DECL ("VALUE" ANY ATOM)] 169>> 

<SETG FIND/LOAD %<RSUBR-ENTRY '[FILSTR FIND/LOAD #DECL ("VALUE" <OR ATOM FALSE> 
STRING)] 192>> 

<SETG SEARCH %<RSUBR-ENTRY '[FILSTR SEARCH #DECL ("VALUE" <OR CHANNEL FALSE> 
STRING)] 280>> 

<SETG PACKAGE %<RSUBR-ENTRY '[FILSTR PACKAGE #DECL ("VALUE" ATOM STRING 
"OPTIONAL" STRING FIX FIX)] 388>> 

<SETG RPACKAGE %<RSUBR-ENTRY '[FILSTR RPACKAGE #DECL ("VALUE" ATOM STRING 
"OPTIONAL" STRING FIX)] 549>> 

<SETG ENTRY %<RSUBR-ENTRY '[FILSTR ENTRY #DECL ("VALUE" ATOM "TUPLE" <TUPLE [
REST ATOM]>)] 681>> 

<SETG USE %<RSUBR-ENTRY '[FILSTR USE #DECL ("VALUE" ATOM "TUPLE" <TUPLE [REST 
STRING]>)] 807>> 

<SETG USE-TOTAL %<RSUBR-ENTRY '[FILSTR USE-TOTAL #DECL ("VALUE" ATOM "TUPLE" <
TUPLE [REST STRING]>)] 964>> 

<SETG USE-DEFER <SETG EXTERNAL ,USE>> 

<SETG DROP %<RSUBR-ENTRY '[FILSTR DROP #DECL ("VALUE" ATOM "TUPLE" <TUPLE [REST 
STRING]>)] 1244>> 

<SETG NULL-OBLIST <MOBLIST NULL 1>> 

<SETG ENDPACKAGE %<RSUBR-ENTRY '[FILSTR ENDPACKAGE #DECL ("VALUE" ATOM)] 1432>> 

<SETG L-UNUSE %<RSUBR-ENTRY '[FILSTR L-UNUSE #DECL ("VALUE" <OR STRING <FALSE 
STRING [REST STRING]>> STRING)] 1592>> 

<SETG L-DATUM %<RSUBR-ENTRY '[FILSTR L-DATUM #DECL ("VALUE" ANY ANY)] 1699>> 

<SETG UDOB <MOBLIST USE-DATUM 17>> 

<SETG USE-DATUM %<RSUBR-ENTRY '[FILSTR USE-DATUM #DECL ("VALUE" ANY ANY)] 1748>> 

<ENDBLOCK> 

<ENDBLOCK> 

<SET OBLIST ,OBLIST> 
