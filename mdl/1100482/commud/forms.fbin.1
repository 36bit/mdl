'<PCODE "FORMS">

<PACKAGE "FORMS"> 

<ENTRY FIELD FLDNM FBUF BFLAGS PFIELD PR1 PRD PR2 FHIGH FWIN FDATA SPACE SPEOL> 

<ENTRY FORMS-CHRTABLE BTEST FILL-FIELD EDIT-FIELD SPLICE-FIELD FIRST-FIELD 
LAST-FIELD PREVIOUS-FIELD NEXT-FIELD COPY INIT-FIELDS INIT-BUF REDISPLAY-ALL 
REDISPLAY-BUF> 

<USE "BUF" "BUFTECO" "SCR" "NSTR" "ITIME" "JCL" "HOSTS" "LSRTNS" "CHKADR" "DID" 
"NEWSTRUC"> 

<USE "COMMAND" "INPUT" "SPEC" "WINDOW"> 

\ 

<SETG FIRST-FIELD  %<RSUBR!- '[ %<PCODE!- "FORMS" 0> FIRST-FIELD #DECL ("VALUE" 
ANY <OR FALSE CHANNEL>) INPUT WINOP BUFPRINT MAKE-WINDOW BUFMAKE ADOPT-WINDOW 
SELECT ADDSTRING BUFCLEAR GET-WINDOW %<TYPE-W FIELD VECTOR> %<TYPE-W BUFFER 
VECTOR> OUTCHAN (CHANNEL) REDISPLAY-ALL T REDISPLAY-BUF %<OFFSET 14 WINDOW> %<
OFFSET 15 WINDOW> %<OFFSET 12 WINDOW> %<TYPE-W SCREEN VECTOR> %<RGLOC 
FORMS-CHRTABLE T> %<RGLOC VALUES T> COMMAND-LOOP-ACTIVATION %<TYPE-W WINDOW 
VECTOR>]>> 
<AND <ASSIGNED? GLUE> .GLUE <PUT ,FIRST-FIELD PGLUE ![715827200 0!]>> 


<SETG LAST-FIELD %<RSUBR-ENTRY '[FIRST-FIELD LAST-FIELD #DECL ("VALUE" ANY ANY)]
41>> 

<SETG PREVIOUS-FIELD %<RSUBR-ENTRY '[FIRST-FIELD PREVIOUS-FIELD #DECL ("VALUE" 
ANY FIELD)] 89>> 

<SETG NEXT-FIELD %<RSUBR-ENTRY '[FIRST-FIELD NEXT-FIELD #DECL ("VALUE" ANY FIELD
)] 159>> 

\ 

"Appending routines (ie: normal input) for various fields" 

<SETG COPY %<RSUBR-ENTRY '[FIRST-FIELD COPY #DECL ("VALUE" <OR BUFFER FALSE> 
FIELD <OR FALSE STRING>)] 210>> 

"Buffer prompts" 

<SETG SPACE ": "> 

<SETG SPEOL ":
"> 

<SETG INIT-FIELDS %<RSUBR-ENTRY '[FIRST-FIELD INIT-FIELDS #DECL ("VALUE" ATOM 
ANY ANY)] 239>> 

<SETG INIT-BUF %<RSUBR-ENTRY '[FIRST-FIELD INIT-BUF #DECL ("VALUE" BUFFER <OR 
VECTOR FIELD>)] 346>> 

<SETG REDISPLAY-ALL %<RSUBR-ENTRY '[FIRST-FIELD REDISPLAY-ALL #DECL ("VALUE" 
ATOM CHANNEL FIX ANY)] 418>> 

<SETG REDISPLAY-BUF %<RSUBR-ENTRY '[FIRST-FIELD REDISPLAY-BUF #DECL ("VALUE" FIX
CHANNEL FIX FIELD "OPTIONAL" ANY ANY)] 481>> 

\ 

"Offsets in a field information vector" 

<NEWSTRUC FIELD VECTOR FLDNM ATOM FBUF <OR BUFFER FALSE> BFLAGS FIX PFIELD <OR 
APPLICABLE FALSE> PR1 STRING PRD STRING PR2 STRING FHIGH FIX FWIN <OR FALSE 
CHANNEL> FDATA ANY> 

<SETG BTEST #MACRO ( %<RSUBR!- '[ %<PCODE!- "FORMS" 773> BTEST #DECL ("VALUE" 
FORM "QUOTE" ANY "QUOTE" ANY) NOT 0? CHTYPE ANDB BFLAGS FIX]>)> 

<SETG FIELD %<RSUBR-ENTRY '[FIRST-FIELD FIELD #DECL ("VALUE" FIELD "TUPLE" TUPLE
)] 517>> 

\ 

<SETG FILL-FIELD %<RSUBR-ENTRY '[FIRST-FIELD FILL-FIELD #DECL ("VALUE" ATOM 
FIELD ANY ANY)] 550>> 

<SETG EDIT-FIELD %<RSUBR-ENTRY '[FIRST-FIELD EDIT-FIELD #DECL ("VALUE" ANY FIELD
)] 622>> 

<SETG SPLICE-FIELD %<RSUBR-ENTRY '[FIRST-FIELD SPLICE-FIELD #DECL ("VALUE" FIELD
FIELD FIELD)] 666>> 

<ENDPACKAGE> 
