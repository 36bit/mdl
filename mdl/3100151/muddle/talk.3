TITLE TALKER

A=1
B=2
C=3

TYIC=1
TYOC=2
RTYIC=3
RTYOC=4


LOC 42

	JSR TSINT
LOC 100

START:	.OPEN TYIC,[SIXBIT /  $TTY/]
	.VALUE
	.OPEN TYOC,[SIXBIT /  %TTY/]
	.VALUE
	.OPEN RTYIC,[SIXBIT /  $T31/]
	.VALUE
	.OPEN RTYOC,[SIXBIT /  %T31/]
	.VALUE
	MOVEI A,0
	MOVEI B,1_RTYIC+1_TYIC
	.SETM2 A,
	MOVSI A,(MOVE)
	.SLEEP A,
	JRST .-2
TSINT:	0
	0
	MOVE A,TSINT
	TRNE A,1_RTYIC
	JRST RTYI
TSINT1:	MOVE A,TSINT
	TRNE A,1_TYIC
	JRST TYI
	.DISMI TSINT+1

RTYI:	MOVEI A,RTYIC
	.ITYIC A,
	JRST TSINT1
	.IOT RTYIC,A
	.IOT TYOC,A
	JRST RTYI

TYI:	MOVEI A,TYIC
	.ITYIC A,
	.DISMI TSINT+1
	.IOT TYIC,A
	.IOT RTYOC,A
	JRST TYI

END START

