'<PCODE "M-HNG">

<PACKAGE "M-HNG"> 

<ENTRY DIRHNG WORK-DIRS NEW-WORK> 

"DIRHNG sets up interrupts for each directory in its argument, which looks
like:  [dir:string
	...]" 

<SETG WORK-DIRS <>> 

<SETG NEW-WORK <>> 

<GDECL (WORK-DIRS) <OR FALSE <VECTOR [REST STRING]>> (NEW-WORK) <OR ATOM FALSE>> 

<SETG DIRHNG  %<RSUBR!- '[ %<PCODE!- "M-HNG" 0> DIRHNG #DECL ("VALUE" ATOM 
"TUPLE" <TUPLE [REST STRING]>) %<RGLOC WORK-DIRS T> T "READ" ".FILE." "(DIR)" 
"DIRHNG" "CHAR" %<RGLOC DIRHNGER T> %<RGLOC NEW-WORK T>]>> 
<AND <ASSIGNED? GLUE> .GLUE <PUT ,DIRHNG PGLUE ![0!]>> 


<SETG DIRHNGER %<RSUBR-ENTRY '[DIRHNG DIRHNGER #DECL ("VALUE" ANY CHANNEL)] 85>> 

<ENDPACKAGE> 
