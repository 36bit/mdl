'<PCODE "1M-MSG">

<PACKAGE "M-MSG"> 

<ENTRY SENDMSG RQOPEN RQCLOSE> 

<USE "M-DEFS" "M-DATA" "OPSYS" "DID"> 

<SETG SENDMSG  %<RSUBR!- '[ %<PCODE!- "1M-MSG" 0> SENDMSG #DECL ("VALUE" ATOM 
LIST STRING "OPTIONAL" STRING STRING "TUPLE" TUPLE) FILCHN DATUM DISPATCH-ID "" 
("MAILER") ")" "MAIL" "ROUTINE" "WHEN-ORIGINATED" "TO" "SUBJECT" "BODY" "FROM" 
"SCHEDULE" ("SENDING") "
)]
" T SNM "COMSYS-MESSAGE-DIR" (STRING) "PRINT" "_RQST_" CANNOT-OPEN-REQUEST-FILE 
RQOPEN "COMSYS-NEW-FILE" TO CANNOT-RENAME-REQUEST-FILE RQCLOSE]>> 
<AND <ASSIGNED? GLUE> .GLUE <PUT ,SENDMSG PGLUE ![704643072 0!]>> 


\ 

"RQOPEN -- open a new request file for writing, return channel" 

<SETG RQOPEN %<RSUBR-ENTRY '[SENDMSG RQOPEN #DECL ("VALUE" CHANNEL)] 216>> 

"RQCLOSE -- rename file on channel to a given name and close it" 

<SETG RQCLOSE %<RSUBR-ENTRY '[SENDMSG RQCLOSE #DECL ("VALUE" ANY CHANNEL)] 250>> 

<ENDPACKAGE> 
