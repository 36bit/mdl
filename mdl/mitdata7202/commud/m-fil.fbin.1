'<PCODE "1M-FIL">

<PACKAGE "M-FIL"> 

<ENTRY FILE-OUTPUT MSGS-FILE FIL-ERR> 

<USE "M-DEFS" "M-PRCD" "M-READ" "M-DAC" "M-DOUT" "M-TEMP" "M-DATA" "M-TIME" 
"ITIME" "FIELDS" "M-ERR" "MADMAN" "CHAN" "OPEN-APPEND" "M-DLV"> 

"FILE OUTPUT PROCESS" 

<DEMON-PROCESS "FILE-OUTPUT" FILE-OUTPUT FIL-ERR [,FATAL ,FATAL <> 0]> 

\ 

"FILE-OUTPUT -- output to a file" 

<SETG FILE-OUTPUT  %<RSUBR!- '[ %<PCODE!- "1M-FIL" 0> FILE-OUTPUT #DECL ("VALUE"
<OR ATOM FALSE> ADDRESS) DLV-ERR ADDBACK ITIME DRDA DUSERS AFALSE DRDMSG DWT 
DAPPMSG TEMPFAILURE? TEMPCLOSE TEMPAPPEND DO-OUTPUT DATUM SCROUT OPEN-APPEND 
TEMPOPEN FDATUM OK? DRD %<RGLOC MSG-SPACE T> %<TYPE-W SPACE VECTOR> 
"AUTHOR-FILE-OUTPUT" "AUTHOR-FILE-FORMAT" "AUTHOR-FILE-FAILURES" 
"RECEIVER-FILE-OUTPUT" "RECEIVER-FILE-FORMAT" "RECEIVER-FILE-FAILURES" T 
%<INTERNAL-RSUBR ACOPY 2> %<INTERNAL-RSUBR ALIST 262143> %<INTERNAL-RSUBR ACONS 
3> "INSERT" "APPEND" "NEW" "PRINTB" "Illegal FILE-OUTPUT Mode" "Msgs file: " 
"MSGS-OUTPUT-FORMAT" "File: " " losing because " " <<<" ">>>> File: " 
" fataled because " "MSGSRV" ".MSGS." "ITS-HEADER" "DISTRIB" ("*BBOARD") 
"FILSRV" "EXPIRES" %<RGLOC SCRATCH-SPACE T> 
"     The FILE-OUTPUT process failed because " %<INTERNAL-RSUBR ASTRING 262143> 
"the " "
data was in improper format." 
"one or more of the
specifications given for output was unusable:

" "---???---" "
	failed because:
" "DELIVERY" "
-----
" "one or more files could
not be opened."]>> 
<AND <ASSIGNED? GLUE> .GLUE <PUT ,FILE-OUTPUT PGLUE ![715827882 -22951231488 0 0
0!]>> 


<SETG MSGS-FILE %<RSUBR-ENTRY '[FILE-OUTPUT MSGS-FILE #DECL ("VALUE" <OR ATOM 
FALSE> CHANNEL)] 461>> 

\ 

"FIL-ERR error analyzer" 

<SETG FIL-ERR %<RSUBR-ENTRY '[FILE-OUTPUT FIL-ERR #DECL ("VALUE" <OR FALSE LIST>
STRING <FALSE FIX> ADDRESS)] 552>> 

<ENDPACKAGE> 
